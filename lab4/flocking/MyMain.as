package {	import flash.display.*;	import flash.events.Event;	import flash.geom.Vector3D;	public class MyMain extends MovieClip {		//NOTE: Vector is an array whose elements all have the same data type.		var agentList : Vector.<Agent> = new Vector.<Agent>();		//CONSTRUCTOR		public function MyMain() {			//CREATE AGENTS AND ADD TO THE LIST AND THE STAGE			for (var i : int = 0; i < 1000; i++) {				var agent : Agent = new Agent();				agent.maxForce = Math.random() * 3.0 + 3.0;				agent.maxSpeed = Math.random() * 6.0 + 6.0;				agent.wanderStep = Math.random() * .8 + .1;				agent.wanderDistance = Math.random() * 100 + 10.0;								//ESTABLISH AN INITIAL LOCATION ON STAGE				agent.boundsRadius = stage.stageWidth * 0.5;				agent.boundsCentre = new Vector3D(300.0,300.0,0.0);				agent.x = agent.boundsCentre.x + Math.random() * 300;				agent.y = agent.boundsCentre.y + Math.random() * 300;				agent.z = Math.random() * 300;								//SET RANDOM VELOCITIES				var vx = Math.random() * 4 - 2;				var vy = Math.random() * 4 - 2;				var vz = Math.random() * 4 - 2;				var vel:Vector3D = new Vector3D(vx,vy,vz);				agent.velocity.incrementBy(vel);								//ADD THE AGENT TO THE VECTOR				agentList.push(agent);				addChild(agent);			}			addEventListener(Event.ENTER_FRAME, moveAllAgents);		}		protected function moveAllAgents(event : Event):void {			for (var i : int = 0; i < agentList.length; i++) {				//THE FIRST AGENT WILL WANDER AROUND THE STAGE				if (i == 0) {					agentList[i].kinematicWander();					agentList[i].alignTo(agentList[i].boundsCentre, 100, 0.5);				}								else {					// MAINTAIN COHESION - USE THE PREVIOUS AGENT FOR ALIGNMENT					agentList[i].alignTo(agentList[i - 1].position, 20, 1.0);					if (i < agentList.length - 1) {						// MAINTAIN A SEPARATION DISTANCE BETWEEN AGENTS						agentList[i].separation(agentList[i + 1].position, 10);					}				}								//UPDATE POSITIONS				agentList[i].updateAgentPosition();				agentList[i].x = agentList[i].position.x;				agentList[i].y = agentList[i].position.y;			}		}	}}